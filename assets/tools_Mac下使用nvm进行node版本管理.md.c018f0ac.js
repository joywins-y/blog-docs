import{_ as s,o as a,c as n,V as l}from"./chunks/framework.bd00fe0c.js";const E=JSON.parse('{"title":"Mac 下使用 nvm 进行 node 版本管理","description":"","frontmatter":{},"headers":[],"relativePath":"tools/Mac下使用nvm进行node版本管理.md","filePath":"tools/Mac下使用nvm进行node版本管理.md","lastUpdated":1711871512000}'),o={name:"tools/Mac下使用nvm进行node版本管理.md"},p=l(`<h1 id="mac-下使用-nvm-进行-node-版本管理" tabindex="-1">Mac 下使用 nvm 进行 node 版本管理 <a class="header-anchor" href="#mac-下使用-nvm-进行-node-版本管理" aria-label="Permalink to &quot;Mac 下使用 nvm 进行 node 版本管理&quot;">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>nvm 是 node 版本管理器，可以很方便的切换 node 版本，并且可以管理多个 node 版本。在平时的工作中，不同的项目可能需要使用不同的 node 版本，如果通过全局频繁的卸载安装来切换版本，这会显得有些繁琐，且不友好。对此，我们可以使用 nvm 来管理安装不同的 node 版本，使用的 node 版本之间的切换也是非常方便。</p><p><strong>说明</strong>：如果在此之前已经安装了 node，最好先卸载现有的全局 node，否则可能发生冲突。</p><h2 id="彻底卸载全局安装的-node" tabindex="-1">彻底卸载全局安装的 Node <a class="header-anchor" href="#彻底卸载全局安装的-node" aria-label="Permalink to &quot;彻底卸载全局安装的 Node&quot;">​</a></h2><ul><li>查看 node 全局安装目录</li></ul><div class="language-zsh"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">which</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">node</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># /usr/local/bin/node</span></span></code></pre></div><ul><li>删除 node 相关的文件和文件夹</li></ul><div class="language-zsh"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-fr</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/node</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/node_modules</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/include/node</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/include/node_modules</span></span></code></pre></div><ul><li>如果使用 <code>brew install node</code> 安装的 node，则需要卸载 node</li></ul><div class="language-zsh"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">uninstall</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">node</span></span></code></pre></div><ul><li>最后删除其他相关文件</li></ul><div class="language-zsh"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/npm</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/share/man/man1/node.1</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/lib/dtrace/node.d</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.npm</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.node-gyp</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/opt/local/bin/node</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/opt/local/include/node</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/opt/local/lib/node_modules</span></span></code></pre></div><h2 id="安装-nvm" tabindex="-1">安装 nvm <a class="header-anchor" href="#安装-nvm" aria-label="Permalink to &quot;安装 nvm&quot;">​</a></h2><h3 id="命令安装" tabindex="-1">命令安装 <a class="header-anchor" href="#命令安装" aria-label="Permalink to &quot;命令安装&quot;">​</a></h3><ol><li>使用下面的 cURL 或 Wget 命令安装</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-o-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">bash</span></span></code></pre></div><p>或</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-qO-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">bash</span></span></code></pre></div><ol start="2"><li>查看是否安装成功</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--version</span></span></code></pre></div><h4 id="可能遇到的问题" tabindex="-1">可能遇到的问题 <a class="header-anchor" href="#可能遇到的问题" aria-label="Permalink to &quot;可能遇到的问题&quot;">​</a></h4><ol><li>Failed to connect to raw.githubusercontent.com port 443: Connection refused</li></ol><p>前往 /etc/hosts 编辑新增如下：</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">199.232.28.133 raw.githubusercontent.com</span></span></code></pre></div><p>然后再次执行之前的安装命令。</p><ol start="2"><li>如果显示 <code>not found nvm</code>，则需要添加配置信息：</li></ol><ul><li>创建 .bash_profile 文件</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.bash_profile</span></span></code></pre></div><ul><li>向 <code>~/.bash_profile</code> 文件中添加下面内容</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#BABED8;"> NVM_DIR</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">~/.nvm</span></span>
<span class="line"><span style="color:#82AAFF;">source</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.nvm/nvm.sh</span></span></code></pre></div><ul><li>修改后让文件生效</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.bash_profile</span></span></code></pre></div><ul><li>或者向其他启动脚本（~/.zshrc, ~/.bash_profile, ~/.profile, 或者 ~/.bashrc）中添加配置信息</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#BABED8;"> NVM_DIR</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$HOME</span><span style="color:#C3E88D;">/.nvm</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">-s</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$NVM_DIR</span><span style="color:#C3E88D;">/nvm.sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">]</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">\\.</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$NVM_DIR</span><span style="color:#C3E88D;">/nvm.sh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># This loads nvm</span></span></code></pre></div><ul><li>让文件生效</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">~/.zshrc</span></span></code></pre></div><p>然后执行<code>nvm -v</code>，来检查是否安装成功（建议重新打开终端检验，更准确）</p><h3 id="nvm-常用命令" tabindex="-1">nvm 常用命令 <a class="header-anchor" href="#nvm-常用命令" aria-label="Permalink to &quot;nvm 常用命令&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ls</span><span style="color:#BABED8;">                      </span><span style="color:#676E95;font-style:italic;"># 查看已安装版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ls-remote</span><span style="color:#BABED8;">               </span><span style="color:#676E95;font-style:italic;"># 查看远程版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">node</span><span style="color:#BABED8;">            </span><span style="color:#676E95;font-style:italic;"># 安装最新node版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">v18.20.0</span><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;"># 安装指定版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--lts</span><span style="color:#BABED8;">           </span><span style="color:#676E95;font-style:italic;"># 安装最新长期支持版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--lts=dubnium</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;"># 安装指定长期支持版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">uninstall</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">v18.20.0</span><span style="color:#BABED8;">      </span><span style="color:#676E95;font-style:italic;"># 卸载指定版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#BABED8;">                     </span><span style="color:#676E95;font-style:italic;"># 查看当前使用的node版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">which</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">node</span><span style="color:#BABED8;">                  </span><span style="color:#676E95;font-style:italic;"># 查看node安装位置</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">which</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">v18.20.0</span><span style="color:#BABED8;">          </span><span style="color:#676E95;font-style:italic;"># 查看指定版本node安装位置</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">use</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">v18.20.0</span><span style="color:#BABED8;">            </span><span style="color:#676E95;font-style:italic;"># 使用指定版本node</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">alias</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">default</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">v18.20.0</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;"># 设置默认版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">alias</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vision-name</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">v18.20.0</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># 设置版本别名 使用命令：nvm use vision-name</span></span></code></pre></div>`,40),e=[p];function t(c,r,i,y,B,D){return a(),n("div",null,e)}const h=s(o,[["render",t]]);export{E as __pageData,h as default};
