import{_ as s,o as n,c as a,V as l}from"./chunks/framework.bd00fe0c.js";const B=JSON.parse('{"title":"catchæ–¹æ³•","description":"","frontmatter":{},"headers":[],"relativePath":"é¢è¯•å¤ç›˜/Promise/02. Promiseçš„é“¾å¼è°ƒç”¨/ç¬”è®°.md","filePath":"é¢è¯•å¤ç›˜/Promise/02. Promiseçš„é“¾å¼è°ƒç”¨/ç¬”è®°.md","lastUpdated":1712573589000}'),p={name:"é¢è¯•å¤ç›˜/Promise/02. Promiseçš„é“¾å¼è°ƒç”¨/ç¬”è®°.md"},o=l(`<p><img src="http://mdrs.yuanjin.tech/img/20210618161125.png" alt="image-20210618161125894"></p><h1 id="catchæ–¹æ³•" tabindex="-1">catchæ–¹æ³• <a class="header-anchor" href="#catchæ–¹æ³•" aria-label="Permalink to &quot;catchæ–¹æ³•&quot;">â€‹</a></h1><p><code>.catch(onRejected)</code> = <code>.then(null, onRejected)</code></p><h1 id="é“¾å¼è°ƒç”¨" tabindex="-1">é“¾å¼è°ƒç”¨ <a class="header-anchor" href="#é“¾å¼è°ƒç”¨" aria-label="Permalink to &quot;é“¾å¼è°ƒç”¨&quot;">â€‹</a></h1><p><img src="http://mdrs.yuanjin.tech/img/20210621103501.png" alt="image-20210621103501094"></p><ol><li><p>thenæ–¹æ³•å¿…å®šä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promise</p><p>å¯ç†è§£ä¸º<code>åç»­å¤„ç†ä¹Ÿæ˜¯ä¸€ä¸ªä»»åŠ¡</code></p></li><li><p>æ–°ä»»åŠ¡çš„çŠ¶æ€å–å†³äºåç»­å¤„ç†ï¼š</p><ul><li><p>è‹¥æ²¡æœ‰ç›¸å…³çš„åç»­å¤„ç†ï¼Œæ–°ä»»åŠ¡çš„çŠ¶æ€å’Œå‰ä»»åŠ¡ä¸€è‡´ï¼Œæ•°æ®ä¸ºå‰ä»»åŠ¡çš„æ•°æ®</p></li><li><p>è‹¥æœ‰åç»­å¤„ç†ä½†è¿˜æœªæ‰§è¡Œï¼Œæ–°ä»»åŠ¡æŒ‚èµ·ã€‚</p></li><li><p>è‹¥åç»­å¤„ç†æ‰§è¡Œäº†ï¼Œåˆ™æ ¹æ®åç»­å¤„ç†çš„æƒ…å†µç¡®å®šæ–°ä»»åŠ¡çš„çŠ¶æ€</p><ul><li>åç»­å¤„ç†æ‰§è¡Œæ— é”™ï¼Œæ–°ä»»åŠ¡çš„çŠ¶æ€ä¸ºå®Œæˆï¼Œæ•°æ®ä¸ºåç»­å¤„ç†çš„è¿”å›å€¼</li><li>åç»­å¤„ç†æ‰§è¡Œæœ‰é”™ï¼Œæ–°ä»»åŠ¡çš„çŠ¶æ€ä¸ºå¤±è´¥ï¼Œæ•°æ®ä¸ºå¼‚å¸¸å¯¹è±¡</li><li>åç»­æ‰§è¡Œåè¿”å›çš„æ˜¯ä¸€ä¸ªä»»åŠ¡å¯¹è±¡ï¼Œæ–°ä»»åŠ¡çš„çŠ¶æ€å’Œæ•°æ®ä¸è¯¥ä»»åŠ¡å¯¹è±¡ä¸€è‡´</li></ul></li></ul></li></ol><p>ç”±äºé“¾å¼ä»»åŠ¡çš„å­˜åœ¨ï¼Œå¼‚æ­¥ä»£ç æ‹¥æœ‰äº†æ›´å¼ºçš„è¡¨è¾¾åŠ›</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å¸¸è§ä»»åŠ¡å¤„ç†ä»£ç </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * ä»»åŠ¡æˆåŠŸåï¼Œæ‰§è¡Œå¤„ç†1ï¼Œå¤±è´¥åˆ™æ‰§è¡Œå¤„ç†2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#BABED8;">pro</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(å¤„ç†1)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#BABED8;">(å¤„ç†2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * ä»»åŠ¡æˆåŠŸåï¼Œä¾æ¬¡æ‰§è¡Œå¤„ç†1ã€å¤„ç†2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#BABED8;">pro</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(å¤„ç†1)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(å¤„ç†2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * ä»»åŠ¡æˆåŠŸåï¼Œä¾æ¬¡æ‰§è¡Œå¤„ç†1ã€å¤„ç†2ï¼Œè‹¥ä»»åŠ¡å¤±è´¥æˆ–å‰é¢çš„å¤„ç†æœ‰é”™ï¼Œæ‰§è¡Œå¤„ç†3</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#BABED8;">pro</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(å¤„ç†1)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(å¤„ç†2)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#BABED8;">(å¤„ç†3)</span></span></code></pre></div><h1 id="é‚“å“¥çš„è§£å†³æ–¹æ¡ˆ" tabindex="-1">é‚“å“¥çš„è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#é‚“å“¥çš„è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;é‚“å“¥çš„è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h1><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å‘æŸä½å¥³ç”Ÿå‘é€ä¸€åˆ™è¡¨ç™½çŸ­ä¿¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// name: å¥³ç¥çš„å§“å</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// onFulffiled: æˆåŠŸåçš„å›è°ƒ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// onRejected: å¤±è´¥åçš„å›è°ƒ</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">sendMessage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">name</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ¨¡æ‹Ÿ å‘é€è¡¨ç™½çŸ­ä¿¡</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">é‚“å“¥ -&gt; </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">ï¼šæœ€è¿‘æœ‰è°£è¨€è¯´æˆ‘å–œæ¬¢ä½ ï¼Œæˆ‘è¦æ¾„æ¸…ä¸€ä¸‹ï¼Œé‚£ä¸æ˜¯è°£è¨€ğŸ˜˜</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">ç­‰å¾…</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">å›å¤......</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ¨¡æ‹Ÿ å¥³ç¥å›å¤éœ€è¦ä¸€æ®µæ—¶é—´</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// æ¨¡æ‹Ÿ æœ‰10%çš„å‡ ç‡æˆåŠŸ</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// æˆåŠŸï¼Œè°ƒç”¨ onFuffiledï¼Œå¹¶ä¼ é€’å¥³ç¥çš„å›å¤</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#BABED8;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> -&gt; é‚“å“¥ï¼šæˆ‘æ˜¯ä¹ï¼Œä½ æ˜¯ä¸‰ï¼Œé™¤äº†ä½ è¿˜æ˜¯ä½ ğŸ˜˜</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// å¤±è´¥ï¼Œè°ƒç”¨ onRejectedï¼Œå¹¶ä¼ é€’å¥³ç¥çš„å›å¤</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">reject</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#BABED8;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> -&gt; é‚“å“¥ï¼šä½ æ˜¯ä¸ªå¥½äººğŸ˜œ</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">sendMessage</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æå»ºå›½</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">reply</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¤±è´¥ï¼Œç»§ç»­</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">reply</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">sendMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ç‹å¯Œè´µ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">reply</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¤±è´¥ï¼Œç»§ç»­</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">reply</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">sendMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å‘¨èšè´¢</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">reply</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¤±è´¥ï¼Œç»§ç»­</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">reply</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">sendMessage</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">åˆ˜äººå‹‡</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">reply</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// æˆåŠŸï¼Œç»“æŸ</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">reply</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">é‚“å“¥ç»ˆäºæ‰¾åˆ°äº†è‡ªå·±çš„ä¼´ä¾£</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">reply</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// æœ€åä¸€ä¸ªä¹Ÿå¤±è´¥äº†</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">reply</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">é‚“å“¥å‘½çŠ¯å¤©ç…å­¤æ˜Ÿï¼Œæ— ä¼´ç»ˆè€ï¼Œå­¤ç‹¬ä¸€ç”Ÿ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  )</span><span style="color:#89DDFF;">;</span></span></code></pre></div>`,10),e=[o];function t(c,r,y,F,D,i){return n(),a("div",null,e)}const E=s(p,[["render",t]]);export{B as __pageData,E as default};
