import{_ as t,o as e,c as a,V as s}from"./chunks/framework.bd00fe0c.js";const f=JSON.parse('{"title":"【淘宝】Http 服务中静态文件的 Last-Modified 是根据什么生成的","description":"","frontmatter":{},"headers":[],"relativePath":"interview/daily-question/23-10-16.md","filePath":"interview/daily-question/23-10-16.md","lastUpdated":1697446234000}'),i={name:"interview/daily-question/23-10-16.md"},n=s(`<h1 id="【淘宝】http-服务中静态文件的-last-modified-是根据什么生成的" tabindex="-1">【淘宝】Http 服务中静态文件的 Last-Modified 是根据什么生成的 <a class="header-anchor" href="#【淘宝】http-服务中静态文件的-last-modified-是根据什么生成的" aria-label="Permalink to &quot;【淘宝】Http 服务中静态文件的 Last-Modified 是根据什么生成的&quot;">​</a></h1><p>一般会选文件的 mtime，表示文件内容的修改时间</p><p>nginx 也是这样处理的，源码见：<a href="https://github.com/nginx/nginx/blob/4bf4650f2f10f7bbacfe7a33da744f18951d416d/src/http/modules/ngx_http_static_module.c#L217" target="_blank" rel="noreferrer">ngx_http_static_module.c</a></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">r-&gt;headers_out.status = NGX_HTTP_OK;</span></span>
<span class="line"><span style="color:#babed8;">    r-&gt;headers_out.content_length_n = of.size;</span></span>
<span class="line"><span style="color:#babed8;">    r-&gt;headers_out.last_modified_time = of.mtime;</span></span></code></pre></div><p>为什么使用 mtime 而非 ctime，参考 <a href="https://github.com/shfshanyue/Daily-Question/issues/117" target="_blank" rel="noreferrer">#16</a></p><p>针对静态资源而言，一般会选择文件的 mtime 元属性作为上次修改时间，该元属性表示文件内容的修改时间，在 linux 中可以用 stat 命令来查看文件属性，其中就包括了 mtime 和 ctime。mtime 指的是文件内容修改时间，而 ctime 指的是文件修改时间</p>`,6),o=[n];function r(l,d,p,c,_,m){return e(),a("div",null,o)}const u=t(i,[["render",r]]);export{f as __pageData,u as default};
